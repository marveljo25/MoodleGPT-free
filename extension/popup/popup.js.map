{"version":3,"file":"popup.js","sources":["../../src/popup/data.ts","../../src/popup/mode-handler.ts","../../src/popup/version.ts","../../src/popup/settings.ts","../../src/popup/utils.ts","../../src/popup/api-test.ts","../../src/popup/index.ts"],"sourcesContent":[null,null,null,null,null,null,null],"names":["globalData","actualMode","inputsCheckbox","modes","document","querySelector","querySelectorAll","toExcludes","disabledForThisMode","autocomplete","clipboard","handleModeChange","needDisable","dontNeedDisable","filter","input","includes","id","parentElement","style","display","button","addEventListener","value","mode","classList","add","remove","CURRENT_VERSION","versionDisplay","setVersion","version","isCurrent","textContent","link","createElement","href","rel","target","appendChild","createTextNode","async","lastVersion","req","fetch","json","getLastVersion","catch","err","console","error","lastVertionSplitted","split","currentVersionSplitted","minVersionLength","Math","min","length","i","parseInt","notifyUpdate","settings","advencedSettings","switchSettings","showMessage","msg","isError","isInfinite","message","color","setTimeout","normalizeText","text","replace","trim","event","preventDefault","saveBtn","testBtn","Error","inputsText","values","map","selector","apiKey","code","baseURL","maxTokens","checkboxValues","element","checked","logs","title","cursor","typing","mouseover","infinite","timeout","history","includeImages","chrome","storage","sync","set","moodleGPT","undefined","model","get","then","config","forEach","key","cfg","log","question","controller","AbortController","timeoutControler","abort","content","type","response","method","headers","Authorization","body","JSON","stringify","messages","role","max_tokens","signal","clearTimeout","ok","status","result","choices","normalizedResponse","getChatGPTResponse"],"mappings":"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"}