{"version":3,"file":"popup.js","sources":["../../../src/popup/data.ts","../../../src/popup/mode-handler.ts","../../../src/popup/version.ts","../../../src/popup/settings.ts","../../../src/popup/utils.ts","../../../src/background/utils/normalize-text.ts","../../../src/popup/index.ts","../../../src/background/core/get-response.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["globalData","actualMode","inputsCheckbox","modes","document","querySelector","querySelectorAll","toExcludes","disabledForThisMode","autocomplete","clipboard","handleModeChange","needDisable","dontNeedDisable","filter","input","includes","id","parentElement","style","display","button","addEventListener","value","mode","classList","add","remove","CURRENT_VERSION","versionDisplay","setVersion","version","isCurrent","textContent","link","createElement","href","rel","target","appendChild","createTextNode","async","lastVersion","req","fetch","json","getLastVersion","catch","err","console","error","lastVertionSplitted","split","currentVersionSplitted","minVersionLength","Math","min","length","i","parseInt","notifyUpdate","settings","advencedSettings","switchSettings","showMessage","msg","isError","isInfinite","message","color","setTimeout","normalizeText","text","toLowerCase","replace","trim","event","preventDefault","saveBtn","testBtn","Error","inputsText","values","map","selector","apiKey","code","baseURL","maxTokens","checkboxValues","element","checked","logs","title","cursor","typing","mouseover","infinite","timeout","history","includeImages","chrome","storage","sync","set","moodleGPT","undefined","model","get","then","config","forEach","key","cfg","log","question","controller","AbortController","timeoutControler","abort","contentHandler","messages","role","content","OR_API_URL","response","method","headers","Authorization","body","JSON","stringify","max_tokens","signal","clearTimeout","ok","status","result","choices","saveResponse","normalizedResponse","getResponse"],"mappings":"yBAAO,MAAMA,EAAa,CAAEC,WAAY,gBAE3BC,EAAiB,CAC5B,OACA,QACA,SACA,SACA,YACA,WACA,UACA,UACA,iBAGWC,EADOC,SAASC,cAAc,SACjBC,iBAAiB,UCXrCC,EAAa,CAAC,iBAGdC,EAAgD,CACpDC,aAAc,GACdC,UAAW,CAAC,SAAU,aACtB,qBAAsB,CAAC,SAAU,WAAY,uBAM/BC,IACd,MAAMC,EAAcJ,EAAoBR,EAAWC,YAC7CY,EAAkBX,EAAeY,QACrCC,IAAUH,EAAYI,SAASD,KAAWR,EAAWS,SAASD,KAEhE,IAAK,MAAME,KAAML,EACfR,SAASC,cAAc,IAAMY,GAAKC,cAAeC,MAAMC,QAAU,OAEnE,IAAK,MAAMH,KAAMJ,EACfT,SAASC,cAAc,IAAMY,GAAKC,cAAeC,MAAMC,QAAU,EAErE,CAGA,IAAK,MAAMC,KAAUlB,EACnBkB,EAAOC,iBAAiB,SAAS,WAC/B,MAAMC,EAAQF,EAAOE,MACrBvB,EAAWC,WAAasB,EACxB,IAAK,MAAMC,KAAQrB,EACbqB,EAAKD,QAAUA,EACjBC,EAAKC,UAAUC,IAAI,gBAEnBF,EAAKC,UAAUE,OAAO,gBAG1BhB,GACF,ICzCF,MAAMiB,EAAkB,QAClBC,EAAiBzB,SAASC,cAAc,qBAoB9ByB,EAAWC,EAAiBC,GAAY,GACtD,GAAIA,EAEF,YADAH,EAAeI,YAAc,IAAMF,GAIrC,MAAMG,EAAO9B,SAAS+B,cAAc,KACpCD,EAAKE,KAAO,+CACZF,EAAKG,IAAM,sBACXH,EAAKI,OAAS,SACdJ,EAAKD,YAAc,IAAMF,EACzBF,EAAeU,YAAYL,GAC3BL,EAAeU,YAAYnC,SAASoC,eAAe,uBACrD,EAKOC,iBACL,MAAMC,QAjCDD,iBACL,MAAME,QAAYC,MAChB,8EAGF,aADkBD,EAAIE,QACXd,OACb,CA2B4Be,GAAiBC,OAAMC,IAC/CC,QAAQC,MAAMF,GACPpB,KAGHuB,EAAsBT,EAAYU,MAAM,KACxCC,EAAyBzB,EAAgBwB,MAAM,KAC/CE,EAAmBC,KAAKC,IAAIL,EAAoBM,OAAQJ,EAAuBI,QAErF,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,IAAoBI,EAAG,CACzC,GAAIC,SAASR,EAAoBO,IAAMC,SAASN,EAAuBK,IACrE,OAAO5B,EAAWY,GAAa,GAC1B,GAAIiB,SAASN,EAAuBK,IAAMC,SAASR,EAAoBO,IAC5E,OAAO5B,EAAWF,EAEtB,CAEAE,EAAWF,EACb,CAEAgC,GC5DA,MAAMC,EAAwBzD,SAASC,cAAc,aAC/CyD,EAAgC1D,SAASC,cAAc,sBACvD0D,EAAkC3D,SAASC,cAAc,oBCCzD,SAAU2D,GAAYC,IAC1BA,EAAGC,QACHA,EAAOC,WACPA,IAMA,MAAMC,EAAuBhE,SAASC,cAAc,YACpD+D,EAAQjD,MAAMkD,MAAQH,EAAU,MAAQ,YACxCE,EAAQnC,YAAcgC,EACtBG,EAAQjD,MAAMC,QAAU,QACnB+C,GAAYG,YAAW,IAAOF,EAAQjD,MAAMC,QAAU,QAAS,IACtE,CCbA,SAASmD,EAAcC,EAAcC,GAAuB,GACtDA,IAAaD,EAAOA,EAAKC,eAW7B,OATuBD,EACpBE,QAAQ,QAAS,MACjBA,QAAQ,cAAe,MACvBA,QAAQ,WAAY,KACpBC,OAEAD,QAAQ,iBAAkB,IAC1BA,QAAQ,kBAAmB,KAGhC,CFAAX,EAAezC,iBAAiB,SAAS,SAAUsD,GACjDA,EAAMC,iBAbwD,SAAnCf,EAAiB3C,MAAMC,SAGhDyC,EAAS1C,MAAMC,QAAU,OACzB0C,EAAiB3C,MAAMC,QAAU,OACjC2C,EAAe9B,YAAc,sBAE7B4B,EAAS1C,MAAMC,QAAU,OACzB0C,EAAiB3C,MAAMC,QAAU,OACjC2C,EAAe9B,YAAc,sBAMjC,IGbA,MAAM6C,EAAU1E,SAASC,cAAiC,SACpD0E,EAAU3E,SAASC,cAA2B,gBACpD,IAAKyE,EAAS,MAAM,IAAIE,MAAM,yBAC9B,IAAKD,EAAS,MAAM,IAAIC,MAAM,yBAE9B,MAAMC,EAAa,CAAC,SAAU,OAAQ,UAAW,aAGjDH,EAAQxD,iBAAiB,SAAS,KAChC,MAAM4D,EAASD,EAAWE,KAAIC,IAC5B,MAAMrE,EAAQX,SAASC,cAAgC,IAAM+E,GAC7D,IAAKrE,EAAO,MAAM,IAAIiE,MAAM,UAAUI,eACtC,OAAOrE,EAAMQ,MAAMoD,MAAM,KAGpBU,EAAQC,EAAMC,EAASC,GAAaN,EAErCO,EAAiBvF,EAAeiF,KAAIC,IACxC,MAAMM,EAAUtF,SAASC,cAAgC,IAAM+E,GAC/D,IAAKM,EAAS,MAAM,IAAIV,MAAM,aAAaI,eAC3C,OAAOM,EAAQC,SAAoD,SAAzCD,EAAQxE,eAAeC,MAAMC,OAAkB,KAEpEwE,EAAMC,EAAOC,EAAQC,EAAQC,EAAWC,EAAUC,EAASC,EAASC,GACzEX,EAEGJ,EAKDC,EAAK7B,OAAS,GAAK6B,EAAK7B,OAAS,EACnCO,EAAY,CAAEC,IAAK,gDAAiDC,SAAS,KAI/EmC,OAAOC,QAAQC,KAAKC,IAAI,CACtBC,UAAW,CACTpB,SACAC,OACAC,UACAC,UAAWA,EAAY7B,SAAS6B,QAAakB,EAC7Cd,OACAC,QACAC,SACAC,SACAC,YACAC,WACAC,UACAC,UACAC,gBACA5E,KAAMxB,EAAWC,WACjB0G,MAAO,sCAIX3C,EAAY,CAAEC,IAAK,yBA7BjBD,EAAY,CAAEC,IAAK,+BAAgCC,SAAS,GA6BnB,IAI7CmC,OAAOC,QAAQC,KAAKK,IAAI,CAAC,cAAcC,MAAKP,IAC1C,MAAMQ,EAASR,EAAQG,UAClBK,IAGDA,EAAOtF,OACTxB,EAAWC,WAAa6G,EAAOtF,MAIjCyD,EAAW8B,SAAQC,IACjB,MAAMjG,EAAQX,SAASC,cAAgC,IAAM2G,GACzDjG,GAAS+F,EAAOE,KAAMjG,EAAMQ,MAAQuF,EAAOE,GAAI,IAIrD9G,EAAe6G,SAAQC,IACrB,MAAMjG,EAAQX,SAASC,cAAgC,IAAM2G,GACzDjG,IAAOA,EAAM4E,QAAUmB,EAAOE,KAAQ,EAAK,IAGjDrG,IAAkB,IAIpBoE,EAAQzD,iBAAiB,SAASmB,UAChC4D,OAAOC,QAAQC,KAAKK,IAAI,CAAC,cAAcC,MAAKpE,MAAM6D,IAChD,MAAMW,EAAMX,EAAQG,UACpB,GAAKQ,GAAQA,EAAI5B,OAKjB,IACEpC,QAAQiE,IAAI,6BAA8BD,EAAI5B,QAK9CrB,EAAY,CAAEC,IAAK,2BCnGzBxB,eACEqE,EACAK,GAIA,MAAMC,EAAa,IAAIC,gBACjBC,EAAmBhD,YAAW,IAAM8C,EAAWG,SAAS,KAE9D,IAAIC,EAQFA,EAAiB,CACfC,SAAU,CACR,CACEC,KAAM,OACNC,QAKIR,KAMZ,MAIMS,EAAa,GAHjBd,EAAOvB,SAAqC,KAA1BuB,EAAOvB,QAAQZ,OAC7BmC,EAAOvB,QAAQb,QAAQ,OAAQ,IAC/B,kDAGAmD,QAAiBjF,MAAMgF,EAAY,CACvCE,OAAQ,OACRC,QAAS,CACPC,cAAe,UAAUlB,EAAOzB,SAChC,eAAgB,oBAElB4C,KAAMC,KAAKC,UAAU,CACnBxB,MAAO,mCACPc,SAAUD,EAAeC,SACzBW,WAAYtB,EAAOtB,WAAa,MAElC6C,OAAQvB,EAAOZ,QAAUkB,EAAWiB,OAAS,OAK/C,GAFAC,aAAahB,IAERO,EAASU,GACZ,MAAM,IAAIvD,MAAM,wBAAwB6C,EAASW,iBAAiBX,EAASrD,UAG7E,MAAMiE,QAAeZ,EAAShF,OACxB2B,EAAOiE,EAAOC,UAAU,IAAItE,SAASuD,SAAWO,KAAKC,UAAUM,GAOrE,MAJI,iBAAkBjB,GAAyD,mBAAhCA,EAAemB,cAC5DnB,EAAemB,aAAanE,GAGvB,CACL2C,WACAU,SAAUrD,EACVoE,mBAAoBrE,EAAcC,GAEtC,CDwBiCqE,CACzB,CAAExD,OAAQ4B,EAAI5B,OAAQG,UAAW,IACjC,+BAEoDqC,UACxD,CAAE,MAAO7E,GACPgB,EAAY,CAAEC,IAAK,gBAAkBjB,EAAIoB,QAASF,SAAS,GAC7D,MAbEF,EAAY,CAAEC,IAAK,kBAAmBC,SAAS,GAajD,GACA"}