{"version":3,"file":"popup.js","sources":["../../src/popup/data.ts","../../src/popup/mode-handler.ts","../../src/popup/version.ts","../../src/popup/settings.ts","../../src/popup/utils.ts","../../src/background/utils/normalize-text.ts","../../src/popup/index.ts","../../src/background/core/get-response.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["globalData","actualMode","inputsCheckbox","inputsCheckboxExtended","modes","document","querySelector","querySelectorAll","toExcludes","disabledForThisMode","autocomplete","clipboard","handleModeChange","needDisable","dontNeedDisable","filter","input","includes","id","parentElement","style","display","button","addEventListener","value","mode","classList","add","remove","CURRENT_VERSION","versionDisplay","setVersion","version","isCurrent","textContent","link","createElement","href","rel","target","appendChild","createTextNode","async","lastVersion","req","fetch","json","getLastVersion","catch","err","console","error","lastVertionSplitted","split","currentVersionSplitted","minVersionLength","Math","min","length","i","parseInt","notifyUpdate","settings","advencedSettings","switchSettings","showMessage","msg","isError","isInfinite","message","color","setTimeout","normalizeText","text","toLowerCase","replace","trim","event","preventDefault","saveBtn","testBtn","Error","inputsText","values","map","selector","apiKey","model","code","baseURL","maxTokens","includeImagesCheckbox","supportsImage","res","headers","Authorization","ok","data","normalizeModelId","modelInfo","find","m","hugging_face_id","architecture","input_modalities","log","warn","disabled","checked","checkboxValues","element","logs","title","cursor","timeout","typing","mouseover","infinite","history","includeImages","useReasoning","chrome","storage","sync","set","moodleGPT","undefined","get","then","config","forEach","key","cfg","question","controller","AbortController","timeoutControler","abort","contentHandler","messages","role","content","OR_API_URL","messagesToSend","response","method","body","JSON","stringify","max_tokens","signal","clearTimeout","status","result","choices","saveResponse","normalizedResponse","getResponse"],"mappings":"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"}