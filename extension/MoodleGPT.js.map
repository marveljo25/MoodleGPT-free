{"version":3,"file":"MoodleGPT.js","sources":["../src/background/utils/title-indications.ts","../src/background/utils/pick-best-response.ts","../src/background/utils/logs.ts","../src/background/utils/normalize-text.ts","../src/background/core/get-content-with-history.ts","../src/background/utils/image-to-base64.ts","../src/background/utils/html-table-to-string.ts","../src/background/core/questions/clipboard.ts","../src/background/core/questions/contenteditable.ts","../src/background/core/questions/number.ts","../src/background/core/questions/radio.ts","../src/background/core/questions/checkbox.ts","../src/background/core/questions/select.ts","../src/background/core/questions/textbox.ts","../src/background/core/questions/atto.ts","../src/background/core/reply.ts","../src/background/core/create-question.ts","../src/background/core/get-response.ts","../src/background/core/modes/clipboard.ts","../src/background/core/modes/question-to-answer.ts","../src/background/core/modes/autocomplete.ts","../src/background/core/code-listener.ts","../src/background/index.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["titleIndications","text","backTitle","document","title","setTimeout","sentenceSimilarity","str1","str2","longerLength","length","matrix","str1WithoutSpaces","replace","str2WithoutSpaces","i","push","j","Math","min","levenshteinDistance","pickBestReponse","answer","arr","bestResponse","element","similarity","value","obj","Logs","question","console","log","bestAnswer","round","toPourcentage","array","response","gptAnswer","normalizedResponse","normalizeText","toLowerCase","trim","SYSTEM_INSTRUCTION_MESSAGE","role","content","async","getContent","config","questionElement","imagesElements","querySelectorAll","includeImages","contentWithImages","base64Images","Array","from","map","imgEl","imageElement","quality","Promise","resolve","reject","canvas","createElement","ctx","getContext","remove","img","Image","crossOrigin","onload","width","height","drawImage","base64","toDataURL","onerror","err","src","imageToBase64","base64ImagesResolved","allSettled","result","status","type","image_url","url","logs","error","reason","getContentWithHistory","message","history","messages","pastHistory","JSON","parse","sessionStorage","moodleGPTHistory","newHistory","urlParams","URLSearchParams","location","search","host","cmid","get","attempt","createNewHistory","a","b","saveResponse","stringify","htmlTableToString","table","tab","lines","maxColumnsLength","line","cellsContent","cell","index","textContent","max","headerLineLength","lineSeparationSize","reduce","jointure","lineSeparation","fill","join","mappedTab","padEnd","shift","handleClipboard","navigator","clipboard","writeText","handleContentEditable","inputList","input","contenteditable","getAttribute","isContentEditable","typing","eventHandler","event","preventDefault","key","removeEventListener","slice","focus","range","createRange","selectNodeContents","collapse","selection","window","getSelection","removeAllRanges","addRange","addEventListener","handleNumber","number","match","undefined","eventHanlder","handleRadio","firstInput","possibleAnswers","inp","parentElement","filter","correctInput","mouseover","click","once","handleCheckbox","corrects","split","correctElements","Set","correct","add","e","needAction","checked","has","action","handleSelect","tagName","options","opt","correctOption","currentSelect","closest","selected","handleTextbox","handleAtto","classList","contains","iframe","querySelector","contentDocument","body","contentWindow","textContainer","textNode","createTextNode","charAt","appendChild","reply","props","cursor","style","questionContainer","innerText","accesshideElements","useless","attoText","clearMyChoice","tables","createAndNormalizeQuestion","form","inputQuery","controller","AbortController","timeoutControler","abort","contentHandler","HF_API_URL","prompt","m","fetch","method","headers","Authorization","apiKey","inputs","parameters","max_new_tokens","maxTokens","signal","timeout","formData","FormData","item","blob","Uint8Array","atob","c","charCodeAt","append","Blob","clearTimeout","ok","Error","json","isArray","generated_text","getChatGPTResponse","catch","haveError","infinite","mode","removeListener","clipboardMode","questionBackup","innerHTML","whiteSpace","contentIsResponse","questionToAnswerMode","handlers","handler","autoCompleteMode","pressedKeys","listeners","findIndex","listener","splice","fn","setUpMoodleGpt","forms","injectionFunction","bind","chrome","storage","sync","then","moodleGPT","code","codeListener"],"mappings":"yBAIA,SAASA,EAAiBC,GACxB,MAAMC,EAAYC,SAASC,MAC3BD,SAASC,MAAQH,EACjBI,YAAW,IAAOF,SAASC,MAAQF,GAAY,IACjD,CCyCA,SAASI,EAAmBC,EAAcC,GACxC,MAAMC,EAAeF,EAAKG,OAASF,EAAKE,OAASH,EAAKG,OAASF,EAAKE,OACpE,OAAqB,IAAjBD,EAA2B,GACvBA,EAlCV,SAA6BF,EAAcC,GACzC,GAAoB,IAAhBD,EAAKG,OAAc,OAAOF,EAAKE,OACnC,GAAoB,IAAhBF,EAAKE,OAAc,OAAOH,EAAKG,OAEnC,MAAMC,EAAqB,GACrBC,EAAoBL,EAAKM,QAAQ,MAAO,IACxCC,EAAoBN,EAAKK,QAAQ,MAAO,IAE9C,IAAK,IAAIE,EAAI,EAAGA,GAAKH,EAAkBF,SAAUK,EAAG,CAClDJ,EAAOK,KAAK,CAACD,IACb,IAAK,IAAIE,EAAI,EAAGA,GAAKH,EAAkBJ,SAAUO,EAC/CN,EAAOI,GAAGE,GACF,IAANF,EACIE,EACAC,KAAKC,IACHR,EAAOI,EAAI,GAAGE,GAAK,EACnBN,EAAOI,GAAGE,EAAI,GAAK,EACnBN,EAAOI,EAAI,GAAGE,EAAI,IAAML,EAAkBG,EAAI,KAAOD,EAAkBG,EAAI,GAAK,EAAI,GAGhG,CAEA,OAAON,EAAOC,EAAkBF,QAAQI,EAAkBJ,OAC5D,CAWyBU,CAAoBb,EAAMC,IAASC,CAC5D,CAQM,SAAUY,EACdC,EACAC,GAEA,IAAIC,EAA6B,CAC/BC,QAAS,KACTC,WAAY,EACZC,MAAO,MAET,IAAK,MAAMC,KAAOL,EAAK,CACrB,MAAMG,EAAapB,EAAmBsB,EAAID,MAAOL,GACjD,GAAmB,IAAfI,EACF,MAAO,CAAED,QAASG,EAAIH,QAASE,MAAOC,EAAID,MAAOD,cAE/CA,EAAaF,EAAaE,aAC5BF,EAAe,CAAEC,QAASG,EAAIH,QAASE,MAAOC,EAAID,MAAOD,cAE7D,CACA,OAAOF,CACT,CC7EA,MAAMK,EACJ,eAAOC,CAAS7B,GAEd8B,QAAQC,IAAI,mBADA,cACyB/B,EACvC,CAEA,iBAAOgC,CAAWX,EAAgBI,GAEhCK,QAAQC,IACN,sBAFU,eAIV,IAAIV,2BDiGJ,SAAwBI,GAC5B,OAAOR,KAAKgB,MAAmB,IAAbR,EAAmB,KAAO,IAAM,GACpD,CCnG0CS,CAAcT,KAEtD,CAEA,YAAOU,CAAMb,GACXQ,QAAQC,IAAI,cAAeT,EAC7B,CAEA,eAAOc,CAASC,GACdP,QAAQC,IAAI,cAAgBM,EAAUD,UACtCN,QAAQC,IAAI,gBAAkBM,EAAUC,mBAC1C,ECrBF,SAASC,EAAcvC,EAAcwC,GAAuB,GACtDA,IAAaxC,EAAOA,EAAKwC,eAW7B,OATuBxC,EACpBY,QAAQ,QAAS,MACjBA,QAAQ,cAAe,MACvBA,QAAQ,WAAY,KACpB6B,OAEA7B,QAAQ,iBAAkB,IAC1BA,QAAQ,kBAAmB,KAGhC,CCFA,MAcM8B,EAAsC,CAC1CC,KAAM,SACNC,QAhB0B,i+BAY1BH,QAUFI,eAAeC,EACbC,EACAC,EACAnB,GAEA,MAAMoB,EAAiBD,EAAgBE,iBAAiB,OAExD,IAAKH,EAAOI,eAA2C,IAA1BF,EAAexC,OAC1C,OAAOoB,EAGT,MAAMuB,EAA2B,GAE3BC,EAAeC,MAAMC,KAAKN,GAAgBO,KAAIC,GC5CtD,SAAuBC,EAAgCC,EAAU,KAC/D,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAS7D,SAAS8D,cAAc,UAChCC,EAAMF,EAAOG,WAAW,MAE9B,IAAKD,EAGH,OAFAH,EAAO,2EACPC,EAAOI,SAIT,MAAMC,EAAM,IAAIC,MAChBD,EAAIE,YAAc,YAClBF,EAAIG,OAAS,KACXR,EAAOS,MAAQJ,EAAII,MACnBT,EAAOU,OAASL,EAAIK,OACpBR,EAAIS,UAAUN,EAAK,EAAG,GAEtB,MAAMO,EAASZ,EAAOa,UAAU,YAAajB,GAC7CE,EAAQc,GAERZ,EAAOI,QAAQ,EAGjBC,EAAIS,QAAUC,IACZhB,EAAOgB,GACPf,EAAOI,QAAQ,EAGjBC,EAAIW,IAAMrB,EAAaqB,GAAG,GAE9B,CDa+DC,CAAcvB,KACrEwB,QAA6BrB,QAAQsB,WAAW7B,GAEtD,IAAK,MAAM8B,KAAUF,EACG,cAAlBE,EAAOC,OACThC,EAAkBrC,KAAK,CACrBsE,KAAM,YACNC,UAAW,CAAEC,IAAKJ,EAAOzD,SAElBqB,EAAOyC,MAChB1D,QAAQ2D,MAAMN,EAAOO,QASzB,OALAtC,EAAkBrC,KAAK,CACrBsE,KAAM,OACNrF,KAAM6B,IAGDuB,CACT,CA0CAP,eAAe8C,EACb5C,EACAC,EACAnB,GAKA,MACM+D,EAAmB,CAAEjD,KAAM,OAAQC,cADnBE,EAAWC,EAAQC,EAAiBnB,IAG1D,IAAKkB,EAAO8C,QAAS,MAAO,CAAEC,SAAU,CAACpD,EAA4BkD,IAErE,IAAIC,EAEJ,MAAME,EAnCCC,KAAKC,MAAMC,eAAeC,kBAAoB,QAoC/CC,EApDR,WACE,MAAMC,EAAY,IAAIC,gBAAgBpG,SAASqG,SAASC,QAExD,MAAO,CACLC,KAAMvG,SAASqG,SAASE,KACxBC,KAAML,EAAUM,IAAI,SAAW,GAC/BC,QAASP,EAAUM,IAAI,YAAc,GACrCd,QAAS,GAEb,CA2C8BgB,GA3B9B,IAAgCC,EAAYC,EAmC1C,OALElB,EADkB,OAAhBE,IA7BsCgB,EA6BuBX,GA7BnCU,EA6BsBf,GA5B3CU,OAASM,EAAEN,MAAQK,EAAEJ,OAASK,EAAEL,MAAQI,EAAEF,UAAYG,EAAEH,SA6BrDR,EAEAL,EAGL,CACLD,SAAU,CAACpD,KAA+BmD,EAAQA,QAASD,GAC3D,YAAAoB,CAAa5E,GACPW,EAAO8C,UACTA,EAAQA,QAAQ9E,KAAK6E,GACrBC,EAAQA,QAAQ9E,KAAK,CAAE4B,KAAM,YAAaC,QAASR,IACnD8D,eAAeC,iBAAmBH,KAAKiB,UAAUpB,GAErD,EAEJ,CE7IA,SAASqB,EAAkBC,GACzB,MAAMC,EAAkB,GAClBC,EAAQ/D,MAAMC,KAAK4D,EAAMjE,iBAAiB,OAC1CoE,EAA6B,GAEnCD,EAAM7D,KAAI+D,IACR,MACMC,EADQlE,MAAMC,KAAKgE,EAAKrE,iBAAiB,WACpBM,KAAI,CAACiE,EAAMC,KACpC,MAAM9E,EAAU6E,EAAKE,aAAalF,OAElC,OADA6E,EAAiBI,GAASzG,KAAK2G,IAAIN,EAAiBI,IAAU,EAAG9E,GAASnC,QAAU,GAC7EmC,GAAW,EAAE,IAEtBwE,EAAIrG,KAAKyG,EAAa,IAGxB,MACMK,EAAmBT,EAAI,GAAG3G,OAC1BqH,EACJR,EAAiBS,QAAO,CAACjB,EAAGC,IAAMD,EAAIC,GAAG,GAA8BiB,GAAxBH,EAAmB,GAC9DI,EAAiB,KAAO3E,MAAMwE,GAAoBI,KAAK,KAAKC,KAAK,IAAM,KAEvEC,EAAYhB,EAAI5D,KAAI+D,GACLA,EAAK/D,KAAI,CAACZ,EAAS8E,IACpC9E,EAAQyF,OACNf,EAAiBI,GACjB,OAGcS,KAbH,SAkBjB,OAFaC,EAAUE,QAETL,EAAiBG,EAAUD,KAAK,KAChD,CC9BA,SAASI,EAAgBxF,EAAgBV,GACnCU,EAAO5C,OAAOJ,EAAiB,uBACnCyI,UAAUC,UAAUC,UAAUrG,EAAUD,SAC1C,CCGA,SAASuG,EACP5F,EACA6F,EACAvG,GAEA,MAAMwG,EAAQD,EAAU,GAExB,GACuB,IAArBA,EAAUnI,SApBd,SAA2Be,GACzB,MAAMsH,EAAkBtH,EAAQuH,aAAa,mBAC7C,MAAkC,iBAApBD,GAAoD,UAApBA,CAChD,CAkBKE,CAAkBH,GAEnB,OAAO,EAGT,GAAI9F,EAAOkG,OAAQ,CACjB,IAAIvB,EAAQ,EAEZ,MAAMwB,EAAe,SAAUC,GAG7B,GAFAA,EAAMC,iBAEY,cAAdD,EAAME,KAAuB3B,GAASrF,EAAUD,SAAS3B,OAE3D,YADAoI,EAAMS,oBAAoB,UAAWJ,GAIvCL,EAAMlB,YAActF,EAAUD,SAASmH,MAAM,IAAK7B,GAGlDmB,EAAMW,QACN,MAAMC,EAAQvJ,SAASwJ,cACvBD,EAAME,mBAAmBd,GACzBY,EAAMG,UAAS,GACf,MAAMC,EAAYC,OAAOC,eACP,OAAdF,IACFA,EAAUG,kBACVH,EAAUI,SAASR,GAEvB,EAEAZ,EAAMqB,iBAAiB,UAAWhB,EACpC,MACEL,EAAMlB,YAActF,EAAUD,SAGhC,OAAO,CACT,CClDA,SAAS+H,EACPpH,EACA6F,EACAvG,GAEA,MAAMwG,EAAQD,EAAU,GAExB,GACuB,IAArBA,EAAUnI,QACK,WAAfoI,EAAMxD,KAEN,OAAO,EAGT,MAAM+E,EAAS/H,EAAUC,mBAAmB+H,MAAM,qBAAqB,IAAIzJ,QAAQ,IAAK,KAExF,QAAe0J,IAAXF,EAAsB,OAAO,EAEjC,GAAIrH,EAAOkG,OAAQ,CACjB,IAAIvB,EAAQ,EAEZ,MAAM6C,EAAe,SAAUpB,GAC7BA,EAAMC,iBAC6B,cAAfD,EAAOE,KAAuB3B,GAAS0C,EAAO3J,OAChEoI,EAAMS,oBAAoB,UAAWiB,IAIA,MAAnCH,EAAOb,MAAM7B,EAAOA,EAAQ,MAAcA,EAE9CmB,EAAMnH,MAAQ0I,EAAOb,MAAM,IAAK7B,GAClC,EAEAmB,EAAMqB,iBAAiB,UAAWK,EACpC,MACE1B,EAAMnH,MAAQ0I,EAGhB,OAAO,CACT,CCrCA,SAASI,EACPzH,EACA6F,EACAvG,GAEA,MAAMoI,EAAa7B,IAAY,GAG/B,IAAK6B,GAAkC,UAApBA,EAAWpF,KAC5B,OAAO,EAGT,MAAMqF,EAAkBpH,MAAMC,KAAKqF,GAChCpF,KAAImH,IAAG,CACNnJ,QAASmJ,EACTjJ,MAAOa,EAAcoI,GAAKC,eAAejD,aAAe,QAEzDkD,QAAOlJ,GAAqB,KAAdA,EAAID,QAEfM,EAAaZ,EAAgBiB,EAAUC,mBAAoBoI,GAE7D3H,EAAOyC,MAAQxD,EAAWN,OAC5BE,EAAKI,WAAWA,EAAWN,MAAOM,EAAWP,YAG/C,MAAMqJ,EAAe9I,EAAWR,QAShC,OARIuB,EAAOgI,UACTD,EAAaZ,iBAAiB,aAAa,IAAMY,EAAaE,SAAS,CACrEC,MAAM,IAGRH,EAAaE,SAGR,CACT,CCnCA,SAASE,EACPnI,EACA6F,EACAvG,GAEA,MAAMoI,EAAa7B,IAAY,GAG/B,IAAK6B,GAAkC,aAApBA,EAAWpF,KAC5B,OAAO,EAGT,MAAM8F,EAAW9I,EAAUC,mBAAmB8I,MAAM,MAE9CV,EAAkBpH,MAAMC,KAAKqF,GAChCpF,KAAImH,IAAG,CACNnJ,QAASmJ,EACTjJ,MAAOa,EAAcoI,GAAKC,eAAejD,aAAe,QAEzDkD,QAAOlJ,GAAqB,KAAdA,EAAID,QAGf2J,EAAyC,IAAIC,IACnD,IAAK,MAAMC,KAAWJ,EAAU,CAC9B,MAAMnJ,EAAaZ,EAAgBmK,EAASb,GAExC3H,EAAOyC,MAAQxD,EAAWN,OAC5BE,EAAKI,WAAWA,EAAWN,MAAOM,EAAWP,YAG/C4J,EAAgBG,IAAIxJ,EAAWR,QACjC,CAGA,IAAK,MAAMA,KAAWkJ,EAAgBlH,KAAIiI,GAAKA,EAAEjK,UAAU,CACzD,MAAMkK,EACHlK,EAAQmK,UAAYN,EAAgBO,IAAIpK,KACvCA,EAAQmK,SAAWN,EAAgBO,IAAIpK,GAErCqK,EAAS,IAAMH,GAAclK,EAAQwJ,QAEvCjI,EAAOgI,UACTvJ,EAAQ0I,iBAAiB,YAAa2B,EAAQ,CAC5CZ,MAAM,IAGRY,GAEJ,CAEA,OAAO,CACT,CClDA,SAASC,EACP/I,EACA6F,EACAvG,GAEA,GAAyB,IAArBuG,EAAUnI,QAAyC,WAAzBmI,EAAU,GAAGmD,QAAsB,OAAO,EAExE,MAAMZ,EAAW9I,EAAUC,mBAAmB8I,MAAM,MAEhDrI,EAAOyC,MAAM5D,EAAKO,MAAMgJ,GAE5B,IAAK,IAAIrK,EAAI,EAAGA,EAAI8H,EAAUnI,QACvB0K,EAASrK,KADwBA,EAAG,CAGzC,MAAMkL,EAAUpD,EAAU9H,GAAGoC,iBAAiB,UAExCwH,EAAkBpH,MAAMC,KAAKyI,GAChCzC,MAAM,GACN/F,KAAIyI,IAAG,CACNzK,QAASyK,EACTvK,MAAOa,EAAc0J,EAAItE,aAAe,QAEzCkD,QAAOlJ,GAAqB,KAAdA,EAAID,QAEfM,EAAaZ,EAAgB+J,EAASrK,GAAI4J,GAE5C3H,EAAOyC,MAAQxD,EAAWN,OAC5BE,EAAKI,WAAWA,EAAWN,MAAOM,EAAWP,YAG/C,MAAMyK,EAAgBlK,EAAWR,QAC3B2K,EAAgBD,EAAcE,QAAQ,UAEtB,OAAlBD,IAEApJ,EAAOgI,UACToB,EAAcjC,iBAAiB,SAAS,IAAOgC,EAAcG,UAAW,GAAO,CAC7EpB,MAAM,IAGRiB,EAAcG,UAAW,EAE7B,CAEA,OAAO,CACT,CChDA,SAASC,EACPvJ,EACA6F,EACAvG,GAEA,MAAMwG,EAAQD,EAAU,GAExB,GACuB,IAArBA,EAAUnI,QACS,aAAlBoI,EAAMkD,SAAyC,SAAflD,EAAMxD,KAEvC,OAAO,EAGT,GAAItC,EAAOkG,OAAQ,CACjB,IAAIvB,EAAQ,EAEZ,MAAMwB,EAAe,SAAUC,GAC7BA,EAAMC,iBAE6B,cAAfD,EAAOE,KAAuB3B,GAASrF,EAAUD,SAAS3B,OAC5EoI,EAAMS,oBAAoB,UAAWJ,GAIvCL,EAAMnH,MAAQW,EAAUD,SAASmH,MAAM,IAAK7B,EAC9C,EAEAmB,EAAMqB,iBAAiB,UAAWhB,EACpC,MACEL,EAAMnH,MAAQW,EAAUD,SAG1B,OAAO,CACT,CCjCA,SAASmK,EACPxJ,EACA6F,EACAvG,GAEA,MAAMwG,EAAQD,EAAU,GAExB,IAAKC,EAAM2D,UAAUC,SAAS,sBAC5B,OAAO,EAGT,MAAMC,EAAS7D,EAAM8D,cAAc,UACnC,KAAKD,GAAWA,EAAOE,iBAAoBF,EAAOE,gBAAgBC,MAASH,EAAOI,eAChF,OAAO,EAET,MAEMC,EAFaL,EAAOE,gBAAgBC,KAETF,cAAc,KAC/C,IAAKI,EAAe,OAAO,EAE3B,GAAIhK,EAAOkG,OAAQ,CACjB,IAAIvB,EAAQ,EACZ,MAAMwB,EAAe,SAAUC,GAG7B,GAFAA,EAAMC,iBAEY,cAAdD,EAAME,KAAuB3B,GAASrF,EAAUD,SAAS3B,OAE3D,YADAiM,EAAOI,cAAexD,oBAAoB,UAAWJ,GAKvD,MAAM8D,EAAW9M,SAAS+M,eAAe5K,EAAUD,SAAS8K,OAAOxF,MACnEqF,EAAcI,YAAYH,GAG1B,MAAMvD,EAAQiD,EAAOE,gBAAiBlD,cACtCD,EAAME,mBAAmBoD,GACzBtD,EAAMG,UAAS,GACf,MAAMC,EAAY6C,EAAOI,cAAe/C,eACpCF,IACFA,EAAUG,kBACVH,EAAUI,SAASR,IAGrBiD,EAAOI,cAAetD,OACxB,EAEAkD,EAAOI,cAAc5C,iBAAiB,UAAWhB,EACnD,MACE6D,EAAcpF,aAAetF,EAAUD,SAGzC,OAAO,CACT,CC3CAS,eAAeuK,EAAMC,GACfA,EAAMtK,OAAOuK,SAAQD,EAAMrK,gBAAgBuK,MAAMD,OAAS,QAE9D,MAAMzL,ECfR,SAAoC2L,GAClC,IAAI3L,EAAW2L,EAAkBC,UAGjC,MAAMC,EACJF,EAAkBtK,iBAAiB,eACrC,IAAK,MAAMyK,KAAWD,EACpB7L,EAAWA,EAASjB,QAAQ+M,EAAQF,UAAW,IAEjD,MAAMG,EAAWJ,EAAkBb,cAAc,uBAC7CiB,IACF/L,EAAWA,EAASjB,QAASgN,EAAyBH,UAAW,KAEnE,MAAMI,EAAgBL,EAAkBb,cAAc,mBAClDkB,IAAehM,EAAWA,EAASjB,QAASiN,EAA8BJ,UAAW,KAGzF,MAAMK,EAAuCN,EAAkBtK,iBAAiB,gBAChF,IAAK,MAAMiE,KAAS2G,EAClBjM,EAAWA,EAASjB,QAAQuG,EAAMsG,UAAW,KAAOvG,EAAkBC,GAAS,MAGjF,OAAO5E,EAAcV,GAAU,EACjC,CDRmBkM,CAA2BV,EAAMW,MAC5CpF,EAAqCyE,EAAMW,KAAK9K,iBAAiBmK,EAAMY,YAEvE5L,QEtBRQ,eACEE,EACAC,EACAnB,GAEA,MAAMqM,EAAa,IAAIC,gBACjBC,EAAmBhO,YAAW,IAAM8N,EAAWG,SAAS,KAExDC,QAAuB3I,EAAsB5C,EAAQC,EAAiBnB,GAGtE0M,EACJ,yFAEF,IAAInM,EAGJ,GAAmF,iBAAxEkM,EAAexI,SAASwI,EAAexI,SAASrF,OAAS,GAAGmC,QAAsB,CAC3F,MAAM4L,EAASF,EAAexI,SAC3BtC,KAAIiL,GACkB,iBAAdA,EAAE7L,QAAuB,GAAG6L,EAAE9L,SAAS8L,EAAE7L,UAAYoD,KAAKiB,UAAUwH,EAAE7L,WAE9EuF,KAAK,MAER/F,QAAiBsM,MAAMH,EAAY,CACjCI,OAAQ,OACRC,QAAS,CACPC,cAAe,UAAU9L,EAAO+L,SAChC,eAAgB,oBAElBjC,KAAM7G,KAAKiB,UAAU,CACnB8H,OAAQP,EACRQ,WAAY,CAAEC,eAAgBlM,EAAOmM,WAAa,OAEpDC,OAAQpM,EAAOqM,QAAUlB,EAAWiB,OAAS,MAEjD,KAEK,CACH,MAAME,EAAW,IAAIC,SAErB,IAAK,MAAMC,KAAQjB,EAAexI,SAASwI,EAAexI,SAASrF,OAAS,GACzEmC,QACD,GAAkB,cAAd2M,EAAKlK,KAAsB,CAE7B,MAAMV,EAAS4K,EAAKjK,UAAUC,IAAI6F,MAAM,KAAK,GACvCoE,EAAOC,WAAWlM,KAAKmM,KAAK/K,IAASgL,GAAKA,EAAEC,WAAW,KAC7DP,EAASQ,OAAO,QAAS,IAAIC,KAAK,CAACN,IACrC,KAAyB,SAAdD,EAAKlK,MACdgK,EAASQ,OAAO,OAAQN,EAAKvP,MAIjCoC,QAAiBsM,MAAMH,EAAY,CACjCI,OAAQ,OACRC,QAAS,CAAEC,cAAe,UAAU9L,EAAO+L,UAC3CjC,KAAMwC,EACNF,OAAQpM,EAAOqM,QAAUlB,EAAWiB,OAAS,MAEjD,CAIA,GAFAY,aAAa3B,IAERhM,EAAS4N,GACZ,MAAM,IAAIC,MAAM,gBAAgB7N,EAASgD,iBAAiBhD,EAASpC,UAGrE,MAAMmF,QAAe/C,EAAS8N,OACxBlQ,EACJsD,MAAM6M,QAAQhL,IAAWA,EAAO,IAAIiL,eAChCjL,EAAO,GAAGiL,eACVpK,KAAKiB,UAAU9B,GAOrB,MAJ2C,mBAAhCmJ,EAAetH,cACxBsH,EAAetH,aAAahH,GAGvB,CACL6B,WACAO,SAAUpC,EACVsC,mBAAoBC,EAAcvC,GAEtC,CF7D0BqQ,CAAmBhD,EAAMtK,OAAQsK,EAAMrK,gBAAiBnB,GAAUyO,OACxF7K,IAAK,CACHA,YAIE8K,EAAiC,iBAAdlO,GAA0B,UAAWA,EAM9D,GAJIgL,EAAMtK,OAAOuK,SACfD,EAAMrK,gBAAgBuK,MAAMD,OAASD,EAAMtK,OAAOyN,UAAYD,EAAY,UAAY,WAGpFA,EACFzO,QAAQ2D,MAAMpD,EAAUoD,YAS1B,OALI4H,EAAMtK,OAAOyC,OACf5D,EAAKC,SAASA,GACdD,EAAKQ,SAASC,IAGRgL,EAAMtK,OAAO0N,MACnB,IAAK,aGlCT,SAAuBpD,GAChBA,EAAMtK,OAAOyN,UAAUnD,EAAMqD,iBAClCnI,EAAgB8E,EAAMtK,OAAQsK,EAAMhL,UACtC,CHgCMsO,CAAc,CACZ5N,OAAQsK,EAAMtK,OACdC,gBAAiBqK,EAAMrK,gBACvBX,YACAqO,eAAgBrD,EAAMqD,iBAExB,MACF,IAAK,sBI7CT,SAA8BrD,GAC5B,MAAMrK,EAAkBqK,EAAMrK,gBAE9BqK,EAAMqD,iBAEN,MAAME,EAAiB5N,EAAgB6N,WAAa,GACpD7N,EAAgB6N,UAAYxD,EAAMhL,UAAUD,SAC5CY,EAAgBuK,MAAMuD,WAAa,WAGnC9N,EAAgBkH,iBAAiB,SAAS,WACxC,MAAM6G,EAAoB/N,EAAgB6N,YAAcxD,EAAMhL,UAAUD,SAExEY,EAAgBuK,MAAMuD,WAAaC,EAAoB,UAAY,WACnE/N,EAAgB6N,UAAYE,EAAoBH,EAAiBvD,EAAMhL,UAAUD,QACnF,GACF,CJ8BM4O,CAAqB,CACnB3O,YACAW,gBAAiBqK,EAAMrK,gBACvB0N,eAAgBrD,EAAMqD,iBAExB,MACF,IAAK,gBKxCT,SAA0BrD,GACnBA,EAAMtK,OAAOyN,UAAUnD,EAAMqD,iBAElC,MAAMO,EAAW,CACf1E,EACA5D,EACA2D,EACAnC,EACA2B,EACAtB,EACAU,GAGF,IAAK,MAAMgG,KAAWD,EACpB,GAAIC,EAAQ7D,EAAMtK,OAAQsK,EAAMzE,UAAWyE,EAAMhL,WAAY,OAI/DkG,EAAgB8E,EAAMtK,OAAQsK,EAAMhL,UACtC,CLsBM8O,CAAiB,CACfpO,OAAQsK,EAAMtK,OACdV,YACAuG,YACA5F,gBAAiBqK,EAAMrK,gBACvB0N,eAAgBrD,EAAMqD,iBAI9B,CMlEA,MAAMU,EAAwB,GACxBC,EAAwB,GAqB9B,SAASX,EAAelP,GACtB,MAAMkG,EAAQ2J,EAAUC,WAAUC,GAAYA,EAAS/P,UAAYA,IACnE,IAAc,IAAVkG,EAAc,CAChB,MAAM6J,EAAWF,EAAUG,OAAO9J,EAAO,GAAG,GAC5C6J,EAAS/P,QAAQ8H,oBAAoB,QAASiI,EAASE,GACzD,CACF,CAOA,SAASC,EAAe3O,GAEtB,GAAIsO,EAAU5Q,OAAS,EAAG,CACxB,IAAK,MAAM8Q,KAAYF,EACjBtO,EAAOuK,SAAQiE,EAAS/P,QAAQ+L,MAAMD,OAAS,WACnDiE,EAAS/P,QAAQ8H,oBAAoB,QAASiI,EAASE,IAIzD,OAFI1O,EAAO5C,OAAOJ,EAAiB,gBACnCsR,EAAU5Q,OAAS,EAErB,CAGA,MAGMwN,EAHiB,CAAC,WAAY,QAAS,OAAQ,UAClDzK,KAAIiI,GAAK,eAAeA,QACxBtD,KAAK,KAC4B,6DAC9BwJ,EAAQzR,SAASgD,iBAAiB,gBAGxC,IAAK,MAAM8K,KAAQ2D,EAAO,CACxB,MAAM3O,EAAsCgL,EAAKrB,cAAc,UAE/D,GAAwB,OAApB3J,EAA0B,SAE1BD,EAAOuK,SAAQtK,EAAgBuK,MAAMD,OAAS,WAElD,MAAMsE,EAAoBxE,EAAMyE,KAAK,KAAM,CACzC9O,SACAC,kBACAgL,KAAMA,EACNC,aACAyC,eAAgB,IAAMA,EAAe1N,KAGvCqO,EAAUtQ,KAAK,CAAES,QAASwB,EAAiByO,GAAIG,IAC/C5O,EAAgBkH,iBAAiB,QAAS0H,EAC5C,CAEI7O,EAAO5C,OAAOJ,EAAiB,WACrC,CCjFA+R,OAAOC,QAAQC,KAAKrL,IAAI,CAAC,cAAcsL,MAAK,SAAUF,GACpD,MAAMhP,EAAiBgP,EAAQG,UAE/B,IAAKnP,EAAQ,MAAM,IAAIkN,MAAM,iDAEzBlN,EAAOoP,KDQb,SAAsBpP,GACpB7C,SAAS2M,KAAK3C,iBAAiB,WAAW,SAAUf,GAClDiI,EAAYrQ,KAAKoI,EAAME,KACnB+H,EAAY3Q,OAASsC,EAAOoP,KAAM1R,QAAQ2Q,EAAY9I,QACtD8I,EAAYjJ,KAAK,MAAQpF,EAAOoP,OAClCf,EAAY3Q,OAAS,EACrBiR,EAAe3O,GAEnB,GACF,CChBIqP,CAAarP,GAEb2O,EAAe3O,EAEnB"}