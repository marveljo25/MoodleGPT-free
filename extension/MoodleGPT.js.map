{"version":3,"file":"MoodleGPT.js","sources":["../../src/background/utils/title-indications.ts","../../src/background/utils/pick-best-response.ts","../../src/background/utils/logs.ts","../../src/background/utils/normalize-text.ts","../../src/background/core/get-content-with-history.ts","../../src/background/utils/image-to-base64.ts","../../src/background/utils/html-table-to-string.ts","../../src/background/core/questions/clipboard.ts","../../src/background/core/questions/contenteditable.ts","../../src/background/core/questions/number.ts","../../src/background/core/questions/radio.ts","../../src/background/core/questions/checkbox.ts","../../src/background/core/questions/select.ts","../../src/background/core/questions/textbox.ts","../../src/background/core/questions/atto.ts","../../src/background/core/reply.ts","../../src/background/core/create-question.ts","../../src/background/core/get-response.ts","../../src/background/core/modes/clipboard.ts","../../src/background/core/modes/question-to-answer.ts","../../src/background/core/modes/autocomplete.ts","../../src/background/core/code-listener.ts","../../src/background/index.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["titleIndications","text","backTitle","document","title","setTimeout","sentenceSimilarity","str1","str2","longerLength","length","matrix","str1WithoutSpaces","replace","str2WithoutSpaces","i","push","j","Math","min","levenshteinDistance","pickBestReponse","answer","arr","bestResponse","element","similarity","value","obj","Logs","question","console","log","bestAnswer","round","toPourcentage","array","response","gptAnswer","normalizedResponse","normalizeText","toLowerCase","trim","SYSTEM_INSTRUCTION_MESSAGE","role","content","async","getContent","config","questionElement","imagesElements","querySelectorAll","includeImages","contentWithImages","base64Images","Array","from","map","imgEl","imageElement","quality","Promise","resolve","reject","canvas","createElement","ctx","getContext","remove","img","Image","crossOrigin","onload","width","height","drawImage","base64","toDataURL","onerror","err","src","imageToBase64","base64ImagesResolved","allSettled","result","status","type","image_url","url","logs","error","reason","getContentWithHistory","message","history","messages","pastHistory","JSON","parse","sessionStorage","moodleGPTHistory","newHistory","urlParams","URLSearchParams","location","search","host","cmid","get","attempt","createNewHistory","a","b","saveResponse","stringify","htmlTableToString","table","tab","lines","maxColumnsLength","line","cellsContent","cell","index","textContent","max","headerLineLength","lineSeparationSize","reduce","jointure","lineSeparation","fill","join","mappedTab","padEnd","shift","handleClipboard","navigator","clipboard","writeText","handleContentEditable","inputList","input","contenteditable","getAttribute","isContentEditable","typing","eventHandler","event","preventDefault","key","removeEventListener","slice","focus","range","createRange","selectNodeContents","collapse","selection","window","getSelection","removeAllRanges","addRange","addEventListener","handleNumber","number","match","undefined","eventHanlder","handleRadio","firstInput","possibleAnswers","inp","parentElement","filter","correctInput","mouseover","click","once","handleCheckbox","corrects","split","correctElements","Set","correct","add","e","needAction","checked","has","action","handleSelect","tagName","options","opt","correctOption","currentSelect","closest","selected","handleTextbox","handleAtto","classList","contains","iframe","querySelector","contentDocument","body","contentWindow","textContainer","textNode","createTextNode","charAt","appendChild","reply","props","cursor","style","questionContainer","innerText","accesshideElements","useless","attoText","clearMyChoice","tables","createAndNormalizeQuestion","form","inputQuery","controller","AbortController","timeoutControler","abort","contentHandler","OR_API_URL","baseURL","fetch","method","headers","Authorization","apiKey","model","max_tokens","maxTokens","signal","timeout","clearTimeout","ok","Error","json","choices","getResponse","catch","haveError","infinite","mode","removeListener","clipboardMode","questionBackup","innerHTML","whiteSpace","contentIsResponse","questionToAnswerMode","handlers","handler","autoCompleteMode","pressedKeys","listeners","findIndex","listener","splice","fn","setUpMoodleGpt","forms","injectionFunction","bind","chrome","storage","sync","then","moodleGPT","code","codeListener"],"mappings":"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"}