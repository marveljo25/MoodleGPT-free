{"version":3,"file":"MoodleGPT.js","sources":["../src/background/utils/title-indications.ts","../src/background/utils/pick-best-response.ts","../src/background/utils/logs.ts","../src/background/utils/normalize-text.ts","../src/background/core/get-content-with-history.ts","../src/background/utils/image-to-base64.ts","../src/background/utils/html-table-to-string.ts","../src/background/core/questions/clipboard.ts","../src/background/core/questions/contenteditable.ts","../src/background/core/questions/number.ts","../src/background/core/questions/radio.ts","../src/background/core/questions/checkbox.ts","../src/background/core/questions/select.ts","../src/background/core/questions/textbox.ts","../src/background/core/questions/atto.ts","../src/background/core/reply.ts","../src/background/core/create-question.ts","../src/background/core/get-response.ts","../src/background/core/modes/clipboard.ts","../src/background/core/modes/question-to-answer.ts","../src/background/core/modes/autocomplete.ts","../src/background/core/code-listener.ts","../src/background/index.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["titleIndications","text","backTitle","document","title","setTimeout","sentenceSimilarity","str1","str2","longerLength","length","matrix","str1WithoutSpaces","replace","str2WithoutSpaces","i","push","j","Math","min","levenshteinDistance","pickBestReponse","answer","arr","bestResponse","element","similarity","value","obj","Logs","question","console","log","bestAnswer","round","toPourcentage","array","response","gptAnswer","normalizedResponse","normalizeText","toLowerCase","trim","async","getContent","config","questionElement","imagesElements","querySelectorAll","includeImages","contentWithImages","base64Images","Array","from","map","imgEl","imageElement","quality","Promise","resolve","reject","canvas","createElement","ctx","getContext","remove","img","Image","crossOrigin","onload","width","height","drawImage","base64","toDataURL","onerror","err","src","imageToBase64","base64ImagesResolved","allSettled","result","status","type","image_url","url","logs","error","reason","getContentWithHistory","message","role","content","systemMessage","useReasoning","makeSystemInstruction","Boolean","history","messages","pastHistory","JSON","parse","sessionStorage","moodleGPTHistory","newHistory","urlParams","URLSearchParams","location","search","host","cmid","get","attempt","createNewHistory","a","b","saveResponse","stringify","htmlTableToString","table","tab","lines","maxColumnsLength","line","cellsContent","cell","index","textContent","max","headerLineLength","lineSeparationSize","reduce","jointure","lineSeparation","fill","join","mappedTab","padEnd","shift","handleClipboard","navigator","clipboard","writeText","handleContentEditable","inputList","input","contenteditable","getAttribute","isContentEditable","typing","eventHandler","event","preventDefault","key","removeEventListener","slice","focus","range","createRange","selectNodeContents","collapse","selection","window","getSelection","removeAllRanges","addRange","addEventListener","handleNumber","number","match","undefined","eventHanlder","handleRadio","firstInput","possibleAnswers","inp","parentElement","filter","correctInput","mouseover","click","once","handleCheckbox","corrects","split","correctElements","Set","correct","add","e","needAction","checked","has","action","handleSelect","tagName","options","opt","correctOption","currentSelect","closest","selected","handleTextbox","handleAtto","classList","contains","iframe","querySelector","contentDocument","body","contentWindow","textContainer","textNode","createTextNode","charAt","appendChild","reply","props","cursor","style","questionContainer","innerText","accesshideElements","useless","attoText","clearMyChoice","tables","createAndNormalizeQuestion","form","inputQuery","controller","AbortController","timeoutControler","abort","contentHandler","OR_API_URL","baseURL","messagesToSend","fetch","method","headers","Authorization","apiKey","model","max_tokens","maxTokens","signal","timeout","clearTimeout","ok","Error","json","choices","getResponse","catch","haveError","infinite","mode","removeListener","clipboardMode","questionBackup","innerHTML","whiteSpace","contentIsResponse","questionToAnswerMode","handlers","handler","autoCompleteMode","pressedKeys","listeners","findIndex","listener","splice","fn","setUpMoodleGpt","forms","injectionFunction","bind","chrome","storage","sync","then","moodleGPT","code","codeListener"],"mappings":"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"}